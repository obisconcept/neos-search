function initSearch(){$(document.body).on("submit",".neos-search.ajax form",function(e){var a=this;void 0!==e.originalEvent&&(e.preventDefault(this),getSearchResults($(this).serializeArray(),a))}),$(document.body).on("keyup",".neos-search.ajax form .search-param",function(){var e=$(this).val().length;if(e>2){var a=$(this).closest("form");getSearchResults($(a).serializeArray(),a)}}),$(document.body).on("click",".neos-search.ajax .search-results .submit-search",function(e){e.preventDefault(),$(this).closest(".neos-search.ajax").find(".submit-form").val("1"),$(this).closest(".neos-search.ajax").find("form").submit()})}function getSearchResults(e,a){$(a).next(".search-results").html('<li class="text-center"><i class="fa fa-spinner fa-pulse"></i></li>');var t="",s="",r=0;$.each(e,function(e,a){"currentNodePath"==a.name&&(s=a.value),"searchParameter"==a.name&&(t=a.value),"submitForm"==a.name&&(r=a.value)}),ajaxSearch.abort(),ajaxSearch=$.ajax({url:"/ajax-neos-search",method:"POST",contentType:"application/json",data:JSON.stringify({searchParameter:t,currentNodePath:s,submitForm:r}),dataType:"json"}).done(function(e){$(a).next(".search-results").html("");var s=e.results;$.each(s,function(e,s){var r="";s.findString&&(r='<div class="text">'+s.findString+"</div>"),$(a).next(".search-results").append('<li><a href="'+s.uri+"?q="+t+'" title="'+s.title+'">'+s.title+"</a>"+r+"</li>")}),$(a).next(".search-results").append('<li><a href="#" class="submit-search" title="Weitere Ergebnisse anzeigen">Weitere Ergebnisse anzeigen</a></li>')})}$(document).ready(function(){initSearch()});var ajaxSearch=$.ajax();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW5pdFNlYXJjaCIsIiQiLCJkb2N1bWVudCIsImJvZHkiLCJvbiIsImV2ZW50IiwiZm9ybSIsInRoaXMiLCJ1bmRlZmluZWQiLCJvcmlnaW5hbEV2ZW50IiwicHJldmVudERlZmF1bHQiLCJnZXRTZWFyY2hSZXN1bHRzIiwic2VyaWFsaXplQXJyYXkiLCJsZW5ndGgiLCJ2YWwiLCJjbG9zZXN0IiwiZmluZCIsInN1Ym1pdCIsImRhdGEiLCJuZXh0IiwiaHRtbCIsInNlYXJjaFBhcmFtZXRlciIsImN1cnJlbnRQYXRoIiwic3VibWl0Rm9ybSIsImVhY2giLCJpbmRleCIsInZhbHVlIiwibmFtZSIsImFqYXhTZWFyY2giLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJjb250ZW50VHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjdXJyZW50Tm9kZVBhdGgiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXN1bHRzIiwidGV4dCIsImZpbmRTdHJpbmciLCJhcHBlbmQiLCJ1cmkiLCJ0aXRsZSIsInJlYWR5Il0sIm1hcHBpbmdzIjoiQUFNQSxRQUFBQSxjQUVBQyxFQUFBQyxTQUFBQyxNQUFBQyxHQUFBLFNBQUEseUJBQUEsU0FBQUMsR0FFQSxHQUFBQyxHQUFBQyxJQUVBQyxVQUFBSCxFQUFBSSxnQkFFQUosRUFBQUssZUFBQUgsTUFFQUksaUJBQUFWLEVBQUFNLE1BQUFLLGlCQUFBTixNQU1BTCxFQUFBQyxTQUFBQyxNQUFBQyxHQUFBLFFBQUEsdUNBQUEsV0FFQSxHQUFBUyxHQUFBWixFQUFBTSxNQUFBTyxNQUFBRCxNQUNBLElBQUFBLEVBQUEsRUFBQSxDQUVBLEdBQUFQLEdBQUFMLEVBQUFNLE1BQUFRLFFBQUEsT0FDQUosa0JBQUFWLEVBQUFLLEdBQUFNLGlCQUFBTixNQU1BTCxFQUFBQyxTQUFBQyxNQUFBQyxHQUFBLFFBQUEsbURBQUEsU0FBQUMsR0FFQUEsRUFBQUssaUJBRUFULEVBQUFNLE1BQUFRLFFBQUEscUJBQUFDLEtBQUEsZ0JBQUFGLElBQUEsS0FDQWIsRUFBQU0sTUFBQVEsUUFBQSxxQkFBQUMsS0FBQSxRQUFBQyxXQVFBLFFBQUFOLGtCQUFBTyxFQUFBWixHQUVBTCxFQUFBSyxHQUFBYSxLQUFBLG1CQUFBQyxLQUFBLHNFQUVBLElBQUFDLEdBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLENBQ0F0QixHQUFBdUIsS0FBQU4sRUFBQSxTQUFBTyxFQUFBQyxHQUVBLG1CQUFBQSxFQUFBQyxPQUVBTCxFQUFBSSxFQUFBQSxPQUlBLG1CQUFBQSxFQUFBQyxPQUVBTixFQUFBSyxFQUFBQSxPQUlBLGNBQUFBLEVBQUFDLE9BRUFKLEVBQUFHLEVBQUFBLFNBTUFFLFdBQUFDLFFBRUFELFdBQUEzQixFQUFBNkIsTUFDQUMsSUFBQSxvQkFDQUMsT0FBQSxPQUNBQyxZQUFBLG1CQUNBZixLQUFBZ0IsS0FBQUMsV0FBQWQsZ0JBQUFBLEVBQUFlLGdCQUFBZCxFQUFBQyxXQUFBQSxJQUNBYyxTQUFBLFNBQ0FDLEtBQUEsU0FBQXBCLEdBRUFqQixFQUFBSyxHQUFBYSxLQUFBLG1CQUFBQyxLQUFBLEdBRUEsSUFBQW1CLEdBQUFyQixFQUFBcUIsT0FFQXRDLEdBQUF1QixLQUFBZSxFQUFBLFNBQUFkLEVBQUFDLEdBRUEsR0FBQWMsR0FBQSxFQUNBZCxHQUFBZSxhQUNBRCxFQUFBLHFCQUFBZCxFQUFBZSxXQUFBLFVBR0F4QyxFQUFBSyxHQUFBYSxLQUFBLG1CQUFBdUIsT0FBQSxnQkFBQWhCLEVBQUFpQixJQUFBLE1BQUF0QixFQUFBLFlBQUFLLEVBQUFrQixNQUFBLEtBQUFsQixFQUFBa0IsTUFBQSxPQUFBSixFQUFBLFdBSUF2QyxFQUFBSyxHQUFBYSxLQUFBLG1CQUFBdUIsT0FBQSxvSEFyR0F6QyxFQUFBQyxVQUFBMkMsTUFBQSxXQUVBN0MsY0EyQ0EsSUFBQTRCLFlBQUEzQixFQUFBNkIiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgIGluaXRTZWFyY2goKTtcblxufSk7XG5cbmZ1bmN0aW9uIGluaXRTZWFyY2goKSB7XG5cbiAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdzdWJtaXQnLCAnLm5lb3Mtc2VhcmNoLmFqYXggZm9ybScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGZvcm0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgICAgIGdldFNlYXJjaFJlc3VsdHMoJCh0aGlzKS5zZXJpYWxpemVBcnJheSgpLCBmb3JtKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2tleXVwJywgJy5uZW9zLXNlYXJjaC5hamF4IGZvcm0gLnNlYXJjaC1wYXJhbScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBsZW5ndGggPSAkKHRoaXMpLnZhbCgpLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDIpIHtcblxuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgICAgIGdldFNlYXJjaFJlc3VsdHMoJChmb3JtKS5zZXJpYWxpemVBcnJheSgpLCBmb3JtKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2NsaWNrJywgJy5uZW9zLXNlYXJjaC5hamF4IC5zZWFyY2gtcmVzdWx0cyAuc3VibWl0LXNlYXJjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5uZW9zLXNlYXJjaC5hamF4JykuZmluZCgnLnN1Ym1pdC1mb3JtJykudmFsKCcxJyk7XG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLm5lb3Mtc2VhcmNoLmFqYXgnKS5maW5kKCdmb3JtJykuc3VibWl0KCk7XG5cbiAgICB9KTtcblxufVxuXG52YXIgYWpheFNlYXJjaCA9ICQuYWpheCgpO1xuXG5mdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHRzKGRhdGEsIGZvcm0pIHtcblxuICAgICQoZm9ybSkubmV4dCgnLnNlYXJjaC1yZXN1bHRzJykuaHRtbCgnPGxpIGNsYXNzPVwidGV4dC1jZW50ZXJcIj48aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2VcIj48L2k+PC9saT4nKTtcblxuICAgIHZhciBzZWFyY2hQYXJhbWV0ZXIgPSAnJztcbiAgICB2YXIgY3VycmVudFBhdGggPSAnJztcbiAgICB2YXIgc3VibWl0Rm9ybSA9IDA7XG4gICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXG4gICAgICAgIGlmICh2YWx1ZS5uYW1lID09ICdjdXJyZW50Tm9kZVBhdGgnKSB7XG5cbiAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gdmFsdWUudmFsdWU7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5uYW1lID09ICdzZWFyY2hQYXJhbWV0ZXInKSB7XG5cbiAgICAgICAgICAgIHNlYXJjaFBhcmFtZXRlciA9IHZhbHVlLnZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubmFtZSA9PSAnc3VibWl0Rm9ybScpIHtcblxuICAgICAgICAgICAgc3VibWl0Rm9ybSA9IHZhbHVlLnZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgYWpheFNlYXJjaC5hYm9ydCgpO1xuXG4gICAgYWpheFNlYXJjaCA9ICQuYWpheCh7XG4gICAgICAgIHVybDogJy9hamF4LW5lb3Mtc2VhcmNoJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtzZWFyY2hQYXJhbWV0ZXI6IHNlYXJjaFBhcmFtZXRlciwgY3VycmVudE5vZGVQYXRoOiBjdXJyZW50UGF0aCwgc3VibWl0Rm9ybTogc3VibWl0Rm9ybX0pLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgJChmb3JtKS5uZXh0KCcuc2VhcmNoLXJlc3VsdHMnKS5odG1sKCcnKTtcblxuICAgICAgICB2YXIgcmVzdWx0cyA9IGRhdGEucmVzdWx0cztcblxuICAgICAgICAkLmVhY2gocmVzdWx0cywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG5cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgICAgICAgICBpZiAodmFsdWUuZmluZFN0cmluZykge1xuICAgICAgICAgICAgICAgIHRleHQgPSAnPGRpdiBjbGFzcz1cInRleHRcIj4nK3ZhbHVlLmZpbmRTdHJpbmcrJzwvZGl2Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoZm9ybSkubmV4dCgnLnNlYXJjaC1yZXN1bHRzJykuYXBwZW5kKCc8bGk+PGEgaHJlZj1cIicrdmFsdWUudXJpKyc/cT0nK3NlYXJjaFBhcmFtZXRlcisnXCIgdGl0bGU9XCInK3ZhbHVlLnRpdGxlKydcIj4nK3ZhbHVlLnRpdGxlKyc8L2E+Jyt0ZXh0Kyc8L2xpPicpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZm9ybSkubmV4dCgnLnNlYXJjaC1yZXN1bHRzJykuYXBwZW5kKCc8bGk+PGEgaHJlZj1cIiNcIiBjbGFzcz1cInN1Ym1pdC1zZWFyY2hcIiB0aXRsZT1cIldlaXRlcmUgRXJnZWJuaXNzZSBhbnplaWdlblwiPldlaXRlcmUgRXJnZWJuaXNzZSBhbnplaWdlbjwvYT48L2xpPicpO1xuXG4gICAgfSk7XG5cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
