function initSearch(){$(document.body).on("submit",".neos-search.ajax form",function(e){var a=this;void 0!==e.originalEvent&&(e.preventDefault(this),getSearchResults($(this).serializeArray(),a))}),$(document.body).on("keyup",".neos-search.ajax form .search-param",function(){var e=$(this).val().length;if(e>2){var a=$(this).closest("form");getSearchResults($(a).serializeArray(),a)}}),$(document.body).on("click",".neos-search.ajax .search-results .submit-search",function(e){e.preventDefault(),$(this).closest(".neos-search.ajax").find(".submit-form").val("1"),$(this).closest(".neos-search.ajax").find("form").submit()})}function getSearchResults(e,a){$(a).next(".search-results").html('<li class="text-center"><i class="fa fa-spinner fa-pulse"></i></li>');var t="",s="",r=0;$.each(e,function(e,a){"currentNodePath"==a.name&&(s=a.value),"searchParameter"==a.name&&(t=a.value),"submitForm"==a.name&&(r=a.value)}),ajaxSearch.abort();var n=$(a).closest(".neos-search").attr("data-dimension"),i=location.protocol+"//"+location.host+"/search/"+(""!=n?n+"/":"");ajaxSearch=$.ajax({url:i,method:"POST",contentType:"application/json",data:JSON.stringify({searchParameter:t,currentNodePath:s,submitForm:r}),dataType:"json"}).done(function(e){$(a).next(".search-results").html("");var s=e.results;$.each(s,function(e,s){var r="";s.findString&&(r='<div class="text">'+s.findString+"</div>"),$(a).next(".search-results").append('<li><a href="'+s.uri+"?q="+t+'" title="'+s.title+'">'+s.title+"</a>"+r+"</li>")}),$(a).next(".search-results").append('<li><a href="#" class="submit-search" title="Weitere Ergebnisse anzeigen">Weitere Ergebnisse anzeigen</a></li>')})}$(document).ready(function(){initSearch()});var ajaxSearch=$.ajax();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW5pdFNlYXJjaCIsIiQiLCJkb2N1bWVudCIsImJvZHkiLCJvbiIsImV2ZW50IiwiZm9ybSIsInRoaXMiLCJ1bmRlZmluZWQiLCJvcmlnaW5hbEV2ZW50IiwicHJldmVudERlZmF1bHQiLCJnZXRTZWFyY2hSZXN1bHRzIiwic2VyaWFsaXplQXJyYXkiLCJsZW5ndGgiLCJ2YWwiLCJjbG9zZXN0IiwiZmluZCIsInN1Ym1pdCIsImRhdGEiLCJuZXh0IiwiaHRtbCIsInNlYXJjaFBhcmFtZXRlciIsImN1cnJlbnRQYXRoIiwic3VibWl0Rm9ybSIsImVhY2giLCJpbmRleCIsInZhbHVlIiwibmFtZSIsImFqYXhTZWFyY2giLCJhYm9ydCIsImRpbWVuc2lvbiIsImF0dHIiLCJzZWFyY2hBamF4VXJsIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwiY3VycmVudE5vZGVQYXRoIiwiZGF0YVR5cGUiLCJkb25lIiwicmVzdWx0cyIsInRleHQiLCJmaW5kU3RyaW5nIiwiYXBwZW5kIiwidXJpIiwidGl0bGUiLCJyZWFkeSJdLCJtYXBwaW5ncyI6IkFBTUEsUUFBQUEsY0FFQUMsRUFBQUMsU0FBQUMsTUFBQUMsR0FBQSxTQUFBLHlCQUFBLFNBQUFDLEdBRUEsR0FBQUMsR0FBQUMsSUFFQUMsVUFBQUgsRUFBQUksZ0JBRUFKLEVBQUFLLGVBQUFILE1BRUFJLGlCQUFBVixFQUFBTSxNQUFBSyxpQkFBQU4sTUFNQUwsRUFBQUMsU0FBQUMsTUFBQUMsR0FBQSxRQUFBLHVDQUFBLFdBRUEsR0FBQVMsR0FBQVosRUFBQU0sTUFBQU8sTUFBQUQsTUFDQSxJQUFBQSxFQUFBLEVBQUEsQ0FFQSxHQUFBUCxHQUFBTCxFQUFBTSxNQUFBUSxRQUFBLE9BQ0FKLGtCQUFBVixFQUFBSyxHQUFBTSxpQkFBQU4sTUFNQUwsRUFBQUMsU0FBQUMsTUFBQUMsR0FBQSxRQUFBLG1EQUFBLFNBQUFDLEdBRUFBLEVBQUFLLGlCQUVBVCxFQUFBTSxNQUFBUSxRQUFBLHFCQUFBQyxLQUFBLGdCQUFBRixJQUFBLEtBQ0FiLEVBQUFNLE1BQUFRLFFBQUEscUJBQUFDLEtBQUEsUUFBQUMsV0FRQSxRQUFBTixrQkFBQU8sRUFBQVosR0FFQUwsRUFBQUssR0FBQWEsS0FBQSxtQkFBQUMsS0FBQSxzRUFFQSxJQUFBQyxHQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxDQUNBdEIsR0FBQXVCLEtBQUFOLEVBQUEsU0FBQU8sRUFBQUMsR0FFQSxtQkFBQUEsRUFBQUMsT0FFQUwsRUFBQUksRUFBQUEsT0FJQSxtQkFBQUEsRUFBQUMsT0FFQU4sRUFBQUssRUFBQUEsT0FJQSxjQUFBQSxFQUFBQyxPQUVBSixFQUFBRyxFQUFBQSxTQU1BRSxXQUFBQyxPQUVBLElBQUFDLEdBQUE3QixFQUFBSyxHQUFBUyxRQUFBLGdCQUFBZ0IsS0FBQSxrQkFDQUMsRUFBQUMsU0FBQUMsU0FBQSxLQUFBRCxTQUFBRSxLQUFBLFlBQUEsSUFBQUwsRUFBQUEsRUFBQSxJQUFBLEdBRUFGLFlBQUEzQixFQUFBbUMsTUFDQUMsSUFBQUwsRUFDQU0sT0FBQSxPQUNBQyxZQUFBLG1CQUNBckIsS0FBQXNCLEtBQUFDLFdBQUFwQixnQkFBQUEsRUFBQXFCLGdCQUFBcEIsRUFBQUMsV0FBQUEsSUFDQW9CLFNBQUEsU0FDQUMsS0FBQSxTQUFBMUIsR0FFQWpCLEVBQUFLLEdBQUFhLEtBQUEsbUJBQUFDLEtBQUEsR0FFQSxJQUFBeUIsR0FBQTNCLEVBQUEyQixPQUVBNUMsR0FBQXVCLEtBQUFxQixFQUFBLFNBQUFwQixFQUFBQyxHQUVBLEdBQUFvQixHQUFBLEVBQ0FwQixHQUFBcUIsYUFDQUQsRUFBQSxxQkFBQXBCLEVBQUFxQixXQUFBLFVBR0E5QyxFQUFBSyxHQUFBYSxLQUFBLG1CQUFBNkIsT0FBQSxnQkFBQXRCLEVBQUF1QixJQUFBLE1BQUE1QixFQUFBLFlBQUFLLEVBQUF3QixNQUFBLEtBQUF4QixFQUFBd0IsTUFBQSxPQUFBSixFQUFBLFdBSUE3QyxFQUFBSyxHQUFBYSxLQUFBLG1CQUFBNkIsT0FBQSxvSEF4R0EvQyxFQUFBQyxVQUFBaUQsTUFBQSxXQUVBbkQsY0EyQ0EsSUFBQTRCLFlBQUEzQixFQUFBbUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgIGluaXRTZWFyY2goKTtcblxufSk7XG5cbmZ1bmN0aW9uIGluaXRTZWFyY2goKSB7XG5cbiAgICAkKGRvY3VtZW50LmJvZHkpLm9uKCdzdWJtaXQnLCAnLm5lb3Mtc2VhcmNoLmFqYXggZm9ybScsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIGZvcm0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQodGhpcyk7XG5cbiAgICAgICAgICAgIGdldFNlYXJjaFJlc3VsdHMoJCh0aGlzKS5zZXJpYWxpemVBcnJheSgpLCBmb3JtKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2tleXVwJywgJy5uZW9zLXNlYXJjaC5hamF4IGZvcm0gLnNlYXJjaC1wYXJhbScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBsZW5ndGggPSAkKHRoaXMpLnZhbCgpLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDIpIHtcblxuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgICAgIGdldFNlYXJjaFJlc3VsdHMoJChmb3JtKS5zZXJpYWxpemVBcnJheSgpLCBmb3JtKTtcblxuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2NsaWNrJywgJy5uZW9zLXNlYXJjaC5hamF4IC5zZWFyY2gtcmVzdWx0cyAuc3VibWl0LXNlYXJjaCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5uZW9zLXNlYXJjaC5hamF4JykuZmluZCgnLnN1Ym1pdC1mb3JtJykudmFsKCcxJyk7XG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLm5lb3Mtc2VhcmNoLmFqYXgnKS5maW5kKCdmb3JtJykuc3VibWl0KCk7XG5cbiAgICB9KTtcblxufVxuXG52YXIgYWpheFNlYXJjaCA9ICQuYWpheCgpO1xuXG5mdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHRzKGRhdGEsIGZvcm0pIHtcblxuICAgICQoZm9ybSkubmV4dCgnLnNlYXJjaC1yZXN1bHRzJykuaHRtbCgnPGxpIGNsYXNzPVwidGV4dC1jZW50ZXJcIj48aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2VcIj48L2k+PC9saT4nKTtcblxuICAgIHZhciBzZWFyY2hQYXJhbWV0ZXIgPSAnJztcbiAgICB2YXIgY3VycmVudFBhdGggPSAnJztcbiAgICB2YXIgc3VibWl0Rm9ybSA9IDA7XG4gICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXG4gICAgICAgIGlmICh2YWx1ZS5uYW1lID09ICdjdXJyZW50Tm9kZVBhdGgnKSB7XG5cbiAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gdmFsdWUudmFsdWU7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5uYW1lID09ICdzZWFyY2hQYXJhbWV0ZXInKSB7XG5cbiAgICAgICAgICAgIHNlYXJjaFBhcmFtZXRlciA9IHZhbHVlLnZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubmFtZSA9PSAnc3VibWl0Rm9ybScpIHtcblxuICAgICAgICAgICAgc3VibWl0Rm9ybSA9IHZhbHVlLnZhbHVlO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgYWpheFNlYXJjaC5hYm9ydCgpO1xuXG4gICAgdmFyIGRpbWVuc2lvbiA9ICQoZm9ybSkuY2xvc2VzdCgnLm5lb3Mtc2VhcmNoJykuYXR0cignZGF0YS1kaW1lbnNpb24nKTtcbiAgICB2YXIgc2VhcmNoQWpheFVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyAnL3NlYXJjaC8nICArICggZGltZW5zaW9uICE9ICcnID8gZGltZW5zaW9uICsgJy8nIDogJycgKTtcblxuICAgIGFqYXhTZWFyY2ggPSAkLmFqYXgoe1xuICAgICAgICB1cmw6IHNlYXJjaEFqYXhVcmwsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7c2VhcmNoUGFyYW1ldGVyOiBzZWFyY2hQYXJhbWV0ZXIsIGN1cnJlbnROb2RlUGF0aDogY3VycmVudFBhdGgsIHN1Ym1pdEZvcm06IHN1Ym1pdEZvcm19KSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICQoZm9ybSkubmV4dCgnLnNlYXJjaC1yZXN1bHRzJykuaHRtbCgnJyk7XG5cbiAgICAgICAgdmFyIHJlc3VsdHMgPSBkYXRhLnJlc3VsdHM7XG5cbiAgICAgICAgJC5lYWNoKHJlc3VsdHMsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuXG4gICAgICAgICAgICB2YXIgdGV4dCA9ICcnO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmZpbmRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gJzxkaXYgY2xhc3M9XCJ0ZXh0XCI+Jyt2YWx1ZS5maW5kU3RyaW5nKyc8L2Rpdj4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGZvcm0pLm5leHQoJy5zZWFyY2gtcmVzdWx0cycpLmFwcGVuZCgnPGxpPjxhIGhyZWY9XCInK3ZhbHVlLnVyaSsnP3E9JytzZWFyY2hQYXJhbWV0ZXIrJ1wiIHRpdGxlPVwiJyt2YWx1ZS50aXRsZSsnXCI+Jyt2YWx1ZS50aXRsZSsnPC9hPicrdGV4dCsnPC9saT4nKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAkKGZvcm0pLm5leHQoJy5zZWFyY2gtcmVzdWx0cycpLmFwcGVuZCgnPGxpPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzdWJtaXQtc2VhcmNoXCIgdGl0bGU9XCJXZWl0ZXJlIEVyZ2Vibmlzc2UgYW56ZWlnZW5cIj5XZWl0ZXJlIEVyZ2Vibmlzc2UgYW56ZWlnZW48L2E+PC9saT4nKTtcblxuICAgIH0pO1xuXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
